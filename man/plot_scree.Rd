% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_scree.R
\name{plot_scree}
\alias{plot_scree}
\title{Plot PCA Scree Plot}
\usage{
plot_scree(
  pca_result,
  title = "Scree Plot",
  subtitle = NULL,
  position = "center",
  what = "variance",
  type = "line",
  max_pc = 15,
  show_cumulative = TRUE,
  show_values = TRUE,
  theme_base_size = 11,
  verbose = TRUE
)
}
\arguments{
\item{pca_result}{List. Output from \code{run_pca()}.}

\item{title}{Character. Main plot title. Default: "Scree Plot".}

\item{subtitle}{Character. Plot subtitle. Default: NULL (no subtitle).}

\item{position}{Character. Position of title and subtitle. Options: "left", "center", "right".
Default: "center".}

\item{what}{Character. What to plot: "variance" (variance explained \%) or "eigen" (eigenvalues).
Default: "variance".}

\item{type}{Character. Plot type: "bar", "line", or "both". Default: "line".}

\item{max_pc}{Integer. Maximum number of PCs to display. Default: 15.}

\item{show_cumulative}{Logical. Show cumulative variance explained as a line on secondary axis.
Only works when \code{what = "variance"}. Default: TRUE.}

\item{show_values}{Logical. Display values on plot using ggrepel to avoid overlap. Default: TRUE.}

\item{theme_base_size}{Numeric. Base font size for theme. Default: 11.}

\item{verbose}{Logical. Print messages. Default: TRUE.}
}
\value{
A ggplot2 object.
}
\description{
Creates a scree plot showing variance explained or eigenvalues per principal component.
Helps determine the number of meaningful PCs to retain.
}
\details{
\strong{Scree Plot Interpretation:}

The scree plot helps determine how many principal components to retain:
\itemize{
\item \strong{Elbow Method}: Look for an "elbow" where the curve flattens. PCs before
the elbow capture meaningful variance; those after capture mostly noise.
\item \strong{Kaiser Criterion}: Retain PCs with eigenvalues > 1 (when \code{what = "eigen"}).
These PCs explain more variance than a single original variable.
\item \strong{Cumulative Variance}: Retain enough PCs to explain 70-90\% of total variance
(shown when \code{show_cumulative = TRUE}).
}

\strong{Plot Types:}
\itemize{
\item \strong{bar}: Traditional bar chart, good for discrete comparison
\item \strong{line}: Line plot, better for seeing trends
\item \strong{both}: Combines bars and line for comprehensive view
}

\strong{Cumulative Variance Line:}

When \code{show_cumulative = TRUE}, a line showing cumulative variance is added
to the plot on a secondary y-axis at the top. This helps visualize how
many PCs are needed to explain a target percentage of variance (e.g., 80\%).

\strong{When to Use Each Metric:}
\itemize{
\item \strong{Variance explained}: More intuitive (percentages). Recommended for most users.
\item \strong{Eigenvalues}: Useful for Kaiser criterion and advanced analysis.
}
}
\examples{
\dontrun{
# Run PCA first
pca_result <- run_pca(scaled_data, metadata, scale_method = "auto")

# Basic scree plot
plot_scree(pca_result)

# Eigenvalue plot with custom styling
plot_scree(pca_result, 
          what = "eigen",
          type = "both",
          title = "PCA Eigenvalues",
          position = "left")

# Variance plot without cumulative line
plot_scree(pca_result,
          show_cumulative = FALSE,
          max_pc = 10)
}
}
\references{
Cattell, R.B. (1966). The scree test for the number of factors.
Multivariate Behavioral Research, 1(2), 245-276. \doi{10.1207/s15327906mbr0102_10}

Kaiser, H.F. (1960). The application of electronic computers to factor analysis.
Educational and Psychological Measurement, 20(1), 141-151.
\doi{10.1177/001316446002000116}
}
\author{
John Lennon L. Calorio
}
