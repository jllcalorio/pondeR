% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_compare.R
\name{plot_compare}
\alias{plot_compare}
\title{Create Box or Violin Plots with Statistical Comparisons}
\usage{
plot_compare(
  data,
  group_var,
  plot_vars,
  plot_type = "boxplot",
  test_method = NULL,
  posthoc_test = NULL,
  p_adjust_method = "BH",
  hide_ns = TRUE,
  show_p_numeric = FALSE,
  paired = FALSE,
  alpha = 0.05,
  colors = NULL,
  plot_title = NULL,
  xlab = NULL,
  ylab = NULL,
  global_p_position = NULL,
  global_p_x = NULL,
  title_size = 12,
  subtitle_size = 10,
  xlab_size = 11,
  ylab_size = 11,
  axis_text_size = 10,
  group_order = NULL,
  label_points = NULL,
  sample_id = NULL,
  show_mean = FALSE,
  horizontal = FALSE,
  bracket_spacing = 0.08,
  ...
)
}
\arguments{
\item{data}{A data frame containing the variables to plot}

\item{group_var}{Character string specifying the column name for grouping variable}

\item{plot_vars}{Character vector specifying the column name(s) for numeric variables to plot}

\item{plot_type}{Character string specifying plot type: "boxplot" or "violin". Default is "boxplot"}

\item{test_method}{Character string or NULL. Statistical test to use: "t.test", "wilcox.test",
"anova", "kruskal.test", "paired.t.test", "paired.wilcox.test". If NULL (default),
automatically selects based on number of groups and sample size}

\item{posthoc_test}{Character string or NULL. Post-hoc test for multiple groups:
"tukey", "dunn", "wilcox", "t.test". If NULL (default), automatically selects
based on the main test used}

\item{p_adjust_method}{Character string. P-value adjustment method for multiple comparisons.
Options include "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", "none".
Default is "BH"}

\item{hide_ns}{Logical. If TRUE, hide non-significant p-values. Default is TRUE}

\item{show_p_numeric}{Logical. If TRUE, show exact p-values as numbers instead of
significance symbols (*, **, ***). Default is FALSE}

\item{paired}{Logical. If TRUE, use paired tests. Default is FALSE}

\item{alpha}{Numeric. Significance level for determining significance. Default is 0.05}

\item{colors}{Character vector of colors (names or HEX codes) or NULL for automatic soft colors.
Can be a single color or a vector of colors. Default is NULL}

\item{plot_title}{Character string or NULL. Custom title for the plot. If NULL, generates
automatic title. Default is NULL}

\item{xlab}{Character string or NULL. X-axis label. If NULL, uses group variable name. Default is NULL}

\item{ylab}{Character string or NULL. Y-axis label. If NULL, uses plot variable name. Default is NULL}

\item{global_p_position}{Numeric or NULL. Y-axis position for global p-value as data coordinates.
If NULL (default), automatically positions at top-right of plot area.}

\item{global_p_x}{Numeric or NULL. X-axis position for global p-value. If NULL (default),
positions at 95\% of x-axis range (right side). Only used when n_groups > 2.}

\item{title_size}{Numeric. Font size for plot title. Default is 12}

\item{subtitle_size}{Numeric. Font size for plot subtitle. Default is 10}

\item{xlab_size}{Numeric. Font size for x-axis label. Default is 11}

\item{ylab_size}{Numeric. Font size for y-axis label. Default is 11}

\item{axis_text_size}{Numeric. Font size for axis text. Default is 10}

\item{group_order}{Character vector or NULL. Specifies the order of groups on the x-axis.
If NULL (default), uses the factor levels or alphabetical order.}

\item{label_points}{Character string or NULL. Specifies point labeling: "all" (label all jitter points),
"outliers" (label only outliers), or NULL (default, no labels). Requires sample_id parameter.}

\item{sample_id}{Character string or NULL. Column name in data containing sample identifiers
for point labeling. Required when label_points is not NULL.}

\item{show_mean}{Logical. If TRUE, add mean indicator to plots. Default is FALSE}

\item{horizontal}{Logical. If TRUE, flip plot to horizontal orientation. Default is FALSE}

\item{bracket_spacing}{Numeric. Multiplier for spacing between comparison brackets. Default is 0.08}

\item{...}{Additional arguments passed to \code{ggboxplot} or \code{ggviolin}}
}
\value{
A list containing:
\item{plots}{List of all generated plots}
\item{significant_plots}{List of plots with significant results only}
\item{statistics}{List of statistical test results for each variable (output from compare_stats)}
}
\description{
This function generates box plots or violin plots with statistical tests and
pairwise comparisons. It automatically selects appropriate statistical tests
based on sample size and number of groups, or allows manual specification.
Statistical testing is performed using the companion function \code{compare_stats()}.
}
\examples{
\dontrun{
# Example data
set.seed(123)
df <- data.frame(
  SampleID = paste0("Sample", 1:60),
  Group = rep(c("A", "B", "C"), each = 20),
  ShannonDiversity = c(rnorm(20, 3, 0.5), rnorm(20, 3.5, 0.5), rnorm(20, 4, 0.5)),
  SimpsonsIndex = c(rnorm(20, 0.7, 0.1), rnorm(20, 0.75, 0.1), rnorm(20, 0.8, 0.1))
)

# Basic usage
results <- plot_compare(
  data = df,
  group_var = "Group",
  plot_vars = c("ShannonDiversity", "SimpsonsIndex")
)

# With custom group order and labeled outliers
results <- plot_compare(
  data = df,
  group_var = "Group",
  plot_vars = c("ShannonDiversity", "SimpsonsIndex"),
  plot_type = "violin",
  group_order = c("C", "B", "A"),
  label_points = "outliers",
  sample_id = "SampleID",
  show_mean = TRUE,
  horizontal = TRUE
)

# View all plots
results$plots

# View only significant plots
results$significant_plots

# Access statistical results
results$statistics$ShannonDiversity$pairwise_results
}

}
